@{
    ViewBag.Title = "Home";
}
@*<link href="~/Content/DataTables/css/fixedColumns.dataTables.min.css" rel="stylesheet" />
<script src="~/Scripts/DataTables/dataTables.fixedColumns.min.js"></script>*@
<style>
    #mydiv {
    position:fixed;
    top: 50%;
    left: 50%;
    width:100px;
    height:100px;
    margin-top: -50px; /*set to a negative number 1/2 of your height*/
    margin-left: -50px; /*set to a negative number 1/2 of your width*/
    /*background: url("../../Images/ajax-loading.gif") no-repeat;
    border: 1px solid #ccc;
    background-color: #fff;*/
}
</style>
<script type="text/javascript">
    $(document).ready(function () {

        $("#dtFrom").datepicker({
            //defaultDate: "+1w",
            dateFormat: 'yymmdd',
            changeMonth: true,
            changeYear: true,
            numberOfMonths: 1,
            //maxDate: "0",
            onClose: function (selectedDate) {
                $("#dtTo").datepicker("option", "minDate", selectedDate);
            }
        });
        $("#dtTo").datepicker({
            //defaultDate: "+1w",
            dateFormat: 'yymmdd',
            changeMonth: true,
            changeYear: true,
            numberOfMonths: 1,
            //maxDate: "0",
            onClose: function (selectedDate) {
                $("#dtFrom").datepicker("option", "maxDate", selectedDate);
            }
        });

        $('#btSearch').click(function () {
            if ($("#itemcode").val() != "" || $("#jobno").val() != "" || $("#wc").val() != "" || $("#plant").val() != "" ||
                ($("#dtFrom").val() != "" && $("#dtTo").val() != "")) {
                $("#divShow").html("");
                var obj = new Object();
                obj.itemcode = $("#itemcode").val();
                obj.jobno = $("#jobno").val();
                obj.wc = $("#wc").val();
                obj.plant = $("#plant").val();
                obj.dtFrom = $("#dtFrom").val();
                obj.dtTo = $("#dtTo").val();
            
                var remote = "@Url.Action("_ShowTable", "Home")";
                $("#mydiv").show();
                $.post(remote, obj, function (data) {
                    $("#divShow").html(data);
                    $("#divTotal").show();
                    $("#mydiv").hide();
                });
            }
        }); // end #btSearch click
    });
</script>

<form class="form-horizontal" action="@Url.Action("ExportMain","Home")" method="post">
    <fieldset>
        <!-- Form Name -->
        <legend>Search Conditions</legend>
        <div class="row">
            <div class="span1" style="text-align: right;">
                Job No. :
            </div>
            <div class="span2">
                <input id="jobno" name="jobno" type="text" placeholder="" class="input-medium">
            </div>
            <div class="span2" style="text-align: right;">
                Item code :
            </div>
            <div class="span2">
                <input id="itemcode" name="jobno" type="text" placeholder="" class="input-medium">
            </div>
            <div class="span2" style="text-align: right;">
                Work Center :
            </div>
            <div class="span2">
                <input id="wc" name="wc" type="text" placeholder="" class="input-medium">
            </div>
        </div>
        <br />
        <div class="row">
            <div class="span1" style="text-align: right;">
                Plant :
            </div>
            <div class="span2">
                <select id="plant" name="plant" class="input-medium">
                    <option value="">--Select--</option>
                    <option value="FTG">BPK</option>
                    <option value="FTI">BPK3</option>
                    <option value="FTF">MIXING</option>
                    <option value="FTB">OSP1</option>
                    <option value="FTC">OSP2</option>
                    <option value="FTE">PTN</option>
                    <option value="FTD">RSP</option>
                </select>
            </div>
            <div class="span2" style="text-align: right;">
                Start Date :
            </div>
            <div class="span2">
                <input id="dtFrom" name="dtFrom" type="text" class="input-medium">
            </div>
            <div class="span2" style="text-align: right;">
                End Date :
            </div>
            <div class="span2">
                <input id="dtTo" name="dtTo" type="text" class="input-medium">
            </div>
            <br />
            <br />
            <br />
            <div class="row">
                <div class="span5"></div>
                <div class="span3">          
                    <button id="btSearch" name="btSearch" class="btn btn-primary" type="button">Search</button>&nbsp
                    <button id="btClear" name="btClear" class="btn btn-danger" type="reset">Reset</button>&nbsp           
                    <button id="btExp" name="btExp" class="btn btn-success" type="submit">Export</button>&nbsp
                </div>
            </div>
        </div>
    </fieldset>
</form>

<div id="divShow">
</div>

<div id="mydiv" style="display: none"><img src="~/Images/loading-animation.gif" alt="Loading Data" /></div>
